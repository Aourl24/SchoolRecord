{% extends 'base.html' %}
{% block content %}
<div class="container my-4">

  <!-- Class Icon -->
  <div class="row mb-3">
    <div class="col text-center">
      <i class="fas fa-chalkboard-teacher text-success bg-white rounded-circle p-4 shadow-sm fs-1"></i>
    </div>
  </div>

  <!-- Class Info -->
  <div class="row mb-3">
    <div class="col text-center">
      <h4 class="fw-bold text-dark">
        {{ class_name.name }} {{ class_name.batch }}
      </h4>
      <p class="text-muted small mb-0">
        Number of students: {{ class_name.student.count }}
      </p>
    </div>
  </div>

  <!-- Actions -->
  <div class="row g-3 my-2 justify-content-center text-center sz-12">

    <!-- Edit Class -->
    <div hx-get="{% url 'update-form' 'class' class_name.id %}" 
         hx-target="#addHere" 
         class="col-3 m-1 border rounded shadow-sm p-3 bg-light hover-shadow">
      <i class="fas fa-pen text-success fs-4 mb-2"></i>
      <div class="fw-semibold">Edit Class</div>
    </div>

    <!-- Add Students -->
    <div hx-get="{% url 'add-student' class_name.id %}" 
         hx-target="#addHere" hx-swap="innerHTML" 
         class="col-4 m-1 border rounded shadow-sm p-3 bg-light hover-shadow">
      <i class="fas fa-user-graduate text-success fs-4 mb-2"></i>
      <div class="fw-semibold">Add Students</div>
    </div>

    <!-- Add Record -->
    <div hx-get="{% url 'add-record' class_name.id %}" 
         hx-target="#addHere" 
         class="col-3 m-1 border rounded shadow-sm p-3 bg-light hover-shadow">
      <i class="fas fa-file-alt text-success fs-4 mb-2"></i>
      <div class="fw-semibold">Add Record</div>
    </div>
  </div>

  <!-- View Buttons -->
  <div class="row mt-4 g-2 text-center">
    <div class="col-md-3 col">
      <button class="btn btn-success w-100"
              hx-get="{% url 'get-class-record' class_name.id %}" 
              hx-target="#mini-load-area" hx-swap="innerHTML">
        View Records
      </button>
    </div>
    <div class="col-md-3 col">
      <button class="btn btn-outline-success w-100"
              hx-get="{% url 'get-student' class_name.id %}" 
              hx-target="#mini-load-area" hx-swap="innerHTML">
        View Students
      </button>
    </div>
  </div>

  <!-- Dynamic Area -->
  <div id="mini-load-area" class="mt-4"></div>

</div>
{% endblock %}